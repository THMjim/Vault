# SMB
* SMB is port 445, NetBIOS is 139
* They are both required, so if you see one the other is there
```bash
nxc smb 192.168.205.172 -u "" -p "" --shares       # ANONYMOUS
nxc smb 192.168.205.172 -u "guest" -p "" --shares  # GUEST access
nxc smb 192.168.205.172 -u "guest" -p "" --generate-hosts-file ./scans/hosts  # create DNS HOSTS file - DC

#IP or range, UDP port 137, scans for NetBIOS names
sudo nbtscan -r 192.168.50.0/24 

net view \\dc01 /all # from Windows 

enum4linux 192.168.50.179
enum4linux -A <target_IP_address>
enum4linux -u <username> -p <password> -a <target_IP_address>
enum4linux -r <ip> # enumerate USERS  

nxc smb 192.168.50.179 --username '' --password '' 
nxc smb 192.168.194.0/24   # SMB network sweep with NetExec

ls -1 /usr/share/nmap/scripts/smb* # Nmap NSE SMB scripts
nmap -v -p 139,445 -oG smb.txt 192.168.50.1-254
nmap -v -p 139,445 --script smb-os-discovery 192.168.50.152

# Smbclient
smbclient -L //IP #or try with 4 /'s
smbclient //server/share
smbclient //server/share -U <username>
smbclient //server/share -U domain/username

# SMBmap
smbmap -H 192.168.205.199 -P 445 2>&1
smbmap -u null -p "" -H 192.168.205.199 -P 445 2>&1


[*] smtp on tcp/25
[-] Try User Enumeration using "RCPT TO". Replace <TARGET-DOMAIN> with the target's domain name:

hydra smtp-enum://192.168.205.199:25/rcpt -L "/usr/share/seclists/Usernames/top-usernames-shortlist.txt" -o "/home/kali/hacking/pwk/12-client-attacks/results/192.168.205.199/scans/tcp25/tcp_25_smtp_user-enum_hydra_rcpt.txt" -p <TARGET-DOMAIN>
```